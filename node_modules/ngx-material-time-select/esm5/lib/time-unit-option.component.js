/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, forwardRef, HostBinding, HostListener, Inject, Input, ViewChild, ViewEncapsulation } from '@angular/core';
import { coerceBooleanProperty } from '@angular/cdk/coercion';
import { mixinDisableRipple } from '@angular/material';
import { MatTimeUnitSelectComponent } from './time-unit-select.component';
var MatTimeUnitOptionBase = /** @class */ (function () {
    function MatTimeUnitOptionBase() {
    }
    return MatTimeUnitOptionBase;
}());
export { MatTimeUnitOptionBase };
/** @type {?} */
export var _MatTimeUnitOptionMixinBase = mixinDisableRipple(MatTimeUnitOptionBase);
/**
 * Single time option inside a `<mat-time-unit-select>` element
 * @template D
 */
var MatTimeUnitOptionComponent = /** @class */ (function (_super) {
    tslib_1.__extends(MatTimeUnitOptionComponent, _super);
    function MatTimeUnitOptionComponent(_elementRef, _changeDetectorRef, timeUnitSelect) {
        var _this = _super.call(this) || this;
        _this._elementRef = _elementRef;
        _this._changeDetectorRef = _changeDetectorRef;
        _this.timeUnitSelect = timeUnitSelect;
        _this._disabled = false;
        _this._selected = false;
        /**
         * \@docs-private
         */
        _this.class = 'mat-time-unit-option';
        /**
         * \@docs-private
         */
        _this.role = 'option';
        /**
         * \@docs-private
         */
        _this.tabindex = -1;
        return _this;
    }
    Object.defineProperty(MatTimeUnitOptionComponent.prototype, "selected", {
        /** Whether or not the option is currently selected. */
        get: /**
         * Whether or not the option is currently selected.
         * @return {?}
         */
        function () { return this._selected; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            /** @type {?} */
            var selected = coerceBooleanProperty(value);
            if (this._selected !== selected) {
                this._selected = selected;
                this._changeDetectorRef.markForCheck();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MatTimeUnitOptionComponent.prototype, "disabled", {
        /** Whether the option is disabled. */
        get: /**
         * Whether the option is disabled.
         * @return {?}
         */
        function () { return this._disabled; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            /** @type {?} */
            var disabled = coerceBooleanProperty(value);
            if (this._disabled !== disabled) {
                this._disabled = disabled;
                this._changeDetectorRef.markForCheck();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MatTimeUnitOptionComponent.prototype, "ariaDisabled", {
        /** @docs-private */
        get: /**
         * \@docs-private
         * @return {?}
         */
        function () { return this.disabled.toString(); },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    MatTimeUnitOptionComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.timeUnitSelect.valueChange.subscribe(function (value) { return _this.selected = _this.value === value; });
    };
    /** Gets the label to be used when determining whether the option should be focused. */
    /**
     * Gets the label to be used when determining whether the option should be focused.
     * @return {?}
     */
    MatTimeUnitOptionComponent.prototype.getLabel = /**
     * Gets the label to be used when determining whether the option should be focused.
     * @return {?}
     */
    function () {
        return this._text ? (this._text.nativeElement.textContent || '').trim() : '';
    };
    /** Gets the host DOM element. */
    /**
     * Gets the host DOM element.
     * @return {?}
     */
    MatTimeUnitOptionComponent.prototype._getHostElement = /**
     * Gets the host DOM element.
     * @return {?}
     */
    function () {
        return this._elementRef.nativeElement;
    };
    /** Whether ripples for the option are disabled. */
    /**
     * Whether ripples for the option are disabled.
     * @return {?}
     */
    MatTimeUnitOptionComponent.prototype._isRippleDisabled = /**
     * Whether ripples for the option are disabled.
     * @return {?}
     */
    function () {
        return this.disabled || this.disableRipple;
    };
    /** Handle click on the option. */
    /**
     * Handle click on the option.
     * @return {?}
     */
    MatTimeUnitOptionComponent.prototype._onClick = /**
     * Handle click on the option.
     * @return {?}
     */
    function () {
        if (!this.disabled) {
            this.timeUnitSelect.move(this.value - this.timeUnitSelect.value);
        }
    };
    MatTimeUnitOptionComponent.decorators = [
        { type: Component, args: [{
                    selector: 'mat-time-unit-option',
                    template: "<div class=\"mat-time-unit-option-content\">\r\n  <div mat-ripple\r\n       class=\"mat-time-unit-option-ripple\"\r\n       [matRippleTrigger]=\"_getHostElement()\"\r\n       [matRippleDisabled]=\"_isRippleDisabled()\"></div>\r\n  <div #text class=\"mat-time-unit-option-text\">\r\n    <ng-content></ng-content>\r\n  </div>\r\n</div>\r\n",
                    encapsulation: ViewEncapsulation.None,
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    styles: [".mat-time-unit-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;-webkit-transform:scale(1,1);transform:scale(1,1);transition:transform .5s;transition:transform .5s,-webkit-transform .5s}.mat-time-unit-option .mat-time-unit-option-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-time-unit-option .mat-time-unit-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-time-unit-option .mat-time-unit-option-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0;text-align:center}.mat-time-unit-option .mat-time-unit-option-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-time-unit-option .mat-time-unit-option-text:empty{display:none}.mat-time-unit-option:not(.mat-time-unit-option-disabled){cursor:pointer;outline:0}.mat-time-unit-option.mat-time-unit-option-selected:not(.mat-time-unit-option-disabled),.mat-time-unit-separator{-webkit-transform:scale(1.5,1.5);transform:scale(1.5,1.5)}"]
                }] }
    ];
    /** @nocollapse */
    MatTimeUnitOptionComponent.ctorParameters = function () { return [
        { type: ElementRef },
        { type: ChangeDetectorRef },
        { type: MatTimeUnitSelectComponent, decorators: [{ type: Inject, args: [forwardRef(function () { return MatTimeUnitSelectComponent; }),] }] }
    ]; };
    MatTimeUnitOptionComponent.propDecorators = {
        value: [{ type: Input }],
        disableRipple: [{ type: Input }],
        _text: [{ type: ViewChild, args: ['text',] }],
        class: [{ type: HostBinding, args: ['class',] }],
        role: [{ type: HostBinding, args: ['attr.role',] }],
        tabindex: [{ type: HostBinding, args: ['attr.tabindex',] }],
        selected: [{ type: Input }, { type: HostBinding, args: ['class.mat-time-unit-option-selected',] }],
        disabled: [{ type: Input }, { type: HostBinding, args: ['class.mat-time-unit-option-disabled',] }],
        ariaDisabled: [{ type: HostBinding, args: ['attr.aria-disabled',] }],
        _onClick: [{ type: HostListener, args: ['click',] }]
    };
    return MatTimeUnitOptionComponent;
}(_MatTimeUnitOptionMixinBase));
export { MatTimeUnitOptionComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    MatTimeUnitOptionComponent.prototype._disabled;
    /**
     * @type {?}
     * @private
     */
    MatTimeUnitOptionComponent.prototype._selected;
    /**
     * The value of the option.
     * @type {?}
     */
    MatTimeUnitOptionComponent.prototype.value;
    /**
     * Whether ripples for the option are disabled.
     * @type {?}
     */
    MatTimeUnitOptionComponent.prototype.disableRipple;
    /**
     * The element containing the display text of the option.
     * @type {?}
     */
    MatTimeUnitOptionComponent.prototype._text;
    /**
     * \@docs-private
     * @type {?}
     */
    MatTimeUnitOptionComponent.prototype.class;
    /**
     * \@docs-private
     * @type {?}
     */
    MatTimeUnitOptionComponent.prototype.role;
    /**
     * \@docs-private
     * @type {?}
     */
    MatTimeUnitOptionComponent.prototype.tabindex;
    /**
     * @type {?}
     * @private
     */
    MatTimeUnitOptionComponent.prototype._elementRef;
    /**
     * @type {?}
     * @private
     */
    MatTimeUnitOptionComponent.prototype._changeDetectorRef;
    /** @type {?} */
    MatTimeUnitOptionComponent.prototype.timeUnitSelect;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZS11bml0LW9wdGlvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtbWF0ZXJpYWwtdGltZS1zZWxlY3QvIiwic291cmNlcyI6WyJsaWIvdGltZS11bml0LW9wdGlvbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsVUFBVSxFQUNWLFVBQVUsRUFDVixXQUFXLEVBQ1gsWUFBWSxFQUNaLE1BQU0sRUFDTixLQUFLLEVBRUwsU0FBUyxFQUNULGlCQUFpQixFQUNsQixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUMscUJBQXFCLEVBQUMsTUFBTSx1QkFBdUIsQ0FBQztBQUM1RCxPQUFPLEVBQXVCLGtCQUFrQixFQUFDLE1BQU0sbUJBQW1CLENBQUM7QUFDM0UsT0FBTyxFQUFDLDBCQUEwQixFQUFDLE1BQU0sOEJBQThCLENBQUM7QUFFeEU7SUFBQTtJQUFxQyxDQUFDO0lBQUQsNEJBQUM7QUFBRCxDQUFDLEFBQXRDLElBQXNDOzs7QUFDdEMsTUFBTSxLQUFPLDJCQUEyQixHQUN0QyxrQkFBa0IsQ0FBQyxxQkFBcUIsQ0FBQzs7Ozs7QUFHM0M7SUFPbUQsc0RBQTJCO0lBZ0Q1RSxvQ0FBb0IsV0FBb0MsRUFDcEMsa0JBQXFDLEVBQ2dCLGNBQTZDO1FBRnRILFlBR0UsaUJBQU8sU0FDUjtRQUptQixpQkFBVyxHQUFYLFdBQVcsQ0FBeUI7UUFDcEMsd0JBQWtCLEdBQWxCLGtCQUFrQixDQUFtQjtRQUNnQixvQkFBYyxHQUFkLGNBQWMsQ0FBK0I7UUFoRDlHLGVBQVMsR0FBRyxLQUFLLENBQUM7UUFDbEIsZUFBUyxHQUFHLEtBQUssQ0FBQzs7OztRQVdLLFdBQUssR0FBRyxzQkFBc0IsQ0FBQzs7OztRQUUzQixVQUFJLEdBQUcsUUFBUSxDQUFDOzs7O1FBRVosY0FBUSxHQUFHLENBQUMsQ0FBQyxDQUFDOztJQWtDckQs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Q0wsV0FBVyxTQUFDLHFDQUFxQzsrQkFXakQsV0FBVyxTQUFDLG9CQUFvQjsyQkE2QmhDLFlBQVksU0FBQyxPQUFPOztJQU92QixpQ0FBQztDQUFBLEFBeEZELENBT21ELDJCQUEyQixHQWlGN0U7U0FqRlksMEJBQTBCOzs7Ozs7SUFFckMsK0NBQTBCOzs7OztJQUMxQiwrQ0FBMEI7Ozs7O0lBRzFCLDJDQUF1Qjs7Ozs7SUFFdkIsbURBQWdDOzs7OztJQUdoQywyQ0FBa0Q7Ozs7O0lBR2xELDJDQUE4RDs7Ozs7SUFFOUQsMENBQW1EOzs7OztJQUVuRCw4Q0FBcUQ7Ozs7O0lBOEJ6QyxpREFBNEM7Ozs7O0lBQzVDLHdEQUE2Qzs7SUFDN0Msb0RBQTBHIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcclxuICBDaGFuZ2VEZXRlY3RvclJlZixcclxuICBDb21wb25lbnQsXHJcbiAgRWxlbWVudFJlZixcclxuICBmb3J3YXJkUmVmLFxyXG4gIEhvc3RCaW5kaW5nLFxyXG4gIEhvc3RMaXN0ZW5lcixcclxuICBJbmplY3QsXHJcbiAgSW5wdXQsXHJcbiAgT25Jbml0LFxyXG4gIFZpZXdDaGlsZCxcclxuICBWaWV3RW5jYXBzdWxhdGlvblxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQge2NvZXJjZUJvb2xlYW5Qcm9wZXJ0eX0gZnJvbSAnQGFuZ3VsYXIvY2RrL2NvZXJjaW9uJztcclxuaW1wb3J0IHtDYW5EaXNhYmxlUmlwcGxlQ3RvciwgbWl4aW5EaXNhYmxlUmlwcGxlfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XHJcbmltcG9ydCB7TWF0VGltZVVuaXRTZWxlY3RDb21wb25lbnR9IGZyb20gJy4vdGltZS11bml0LXNlbGVjdC5jb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hdFRpbWVVbml0T3B0aW9uQmFzZSB7IH1cclxuZXhwb3J0IGNvbnN0IF9NYXRUaW1lVW5pdE9wdGlvbk1peGluQmFzZTogQ2FuRGlzYWJsZVJpcHBsZUN0b3IgJiB0eXBlb2YgTWF0VGltZVVuaXRPcHRpb25CYXNlID1cclxuICBtaXhpbkRpc2FibGVSaXBwbGUoTWF0VGltZVVuaXRPcHRpb25CYXNlKTtcclxuXHJcbi8qKiBTaW5nbGUgdGltZSBvcHRpb24gaW5zaWRlIGEgYDxtYXQtdGltZS11bml0LXNlbGVjdD5gIGVsZW1lbnQgKi9cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdtYXQtdGltZS11bml0LW9wdGlvbicsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3RpbWUtdW5pdC1vcHRpb24uY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3RpbWUtdW5pdC1vcHRpb24uY29tcG9uZW50LnNjc3MnXSxcclxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBNYXRUaW1lVW5pdE9wdGlvbkNvbXBvbmVudDxEPiBleHRlbmRzIF9NYXRUaW1lVW5pdE9wdGlvbk1peGluQmFzZSBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gIHByaXZhdGUgX2Rpc2FibGVkID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBfc2VsZWN0ZWQgPSBmYWxzZTtcclxuXHJcbiAgLyoqIFRoZSB2YWx1ZSBvZiB0aGUgb3B0aW9uLiAqL1xyXG4gIEBJbnB1dCgpIHZhbHVlOiBudW1iZXI7XHJcbiAgLyoqIFdoZXRoZXIgcmlwcGxlcyBmb3IgdGhlIG9wdGlvbiBhcmUgZGlzYWJsZWQuICovXHJcbiAgQElucHV0KCkgZGlzYWJsZVJpcHBsZTogYm9vbGVhbjtcclxuXHJcbiAgLyoqIFRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGRpc3BsYXkgdGV4dCBvZiB0aGUgb3B0aW9uLiAqL1xyXG4gIEBWaWV3Q2hpbGQoJ3RleHQnKSBfdGV4dDogRWxlbWVudFJlZjxIVE1MRWxlbWVudD47XHJcblxyXG4gIC8qKiBAZG9jcy1wcml2YXRlICovXHJcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcycpIHJlYWRvbmx5IGNsYXNzID0gJ21hdC10aW1lLXVuaXQtb3B0aW9uJztcclxuICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xyXG4gIEBIb3N0QmluZGluZygnYXR0ci5yb2xlJykgcmVhZG9ubHkgcm9sZSA9ICdvcHRpb24nO1xyXG4gIC8qKiBAZG9jcy1wcml2YXRlICovXHJcbiAgQEhvc3RCaW5kaW5nKCdhdHRyLnRhYmluZGV4JykgcmVhZG9ubHkgdGFiaW5kZXggPSAtMTtcclxuXHJcbiAgLyoqIFdoZXRoZXIgb3Igbm90IHRoZSBvcHRpb24gaXMgY3VycmVudGx5IHNlbGVjdGVkLiAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5tYXQtdGltZS11bml0LW9wdGlvbi1zZWxlY3RlZCcpXHJcbiAgZ2V0IHNlbGVjdGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fc2VsZWN0ZWQ7IH1cclxuICBzZXQgc2VsZWN0ZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkID0gY29lcmNlQm9vbGVhblByb3BlcnR5KHZhbHVlKTtcclxuICAgIGlmICh0aGlzLl9zZWxlY3RlZCAhPT0gc2VsZWN0ZWQpIHtcclxuICAgICAgdGhpcy5fc2VsZWN0ZWQgPSBzZWxlY3RlZDtcclxuICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKiogV2hldGhlciB0aGUgb3B0aW9uIGlzIGRpc2FibGVkLiAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5tYXQtdGltZS11bml0LW9wdGlvbi1kaXNhYmxlZCcpXHJcbiAgZ2V0IGRpc2FibGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fZGlzYWJsZWQ7IH1cclxuICBzZXQgZGlzYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIGNvbnN0IGRpc2FibGVkID0gY29lcmNlQm9vbGVhblByb3BlcnR5KHZhbHVlKTtcclxuICAgIGlmICh0aGlzLl9kaXNhYmxlZCAhPT0gZGlzYWJsZWQpIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZWQgPSBkaXNhYmxlZDtcclxuICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xyXG4gIEBIb3N0QmluZGluZygnYXR0ci5hcmlhLWRpc2FibGVkJylcclxuICBnZXQgYXJpYURpc2FibGVkKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLmRpc2FibGVkLnRvU3RyaW5nKCk7IH1cclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfZWxlbWVudFJlZjogRWxlbWVudFJlZjxIVE1MRWxlbWVudD4sXHJcbiAgICAgICAgICAgICAgcHJpdmF0ZSBfY2hhbmdlRGV0ZWN0b3JSZWY6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICAgICAgICAgICAgIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBNYXRUaW1lVW5pdFNlbGVjdENvbXBvbmVudCkpIHB1YmxpYyB0aW1lVW5pdFNlbGVjdDogTWF0VGltZVVuaXRTZWxlY3RDb21wb25lbnQ8RD4pIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMudGltZVVuaXRTZWxlY3QudmFsdWVDaGFuZ2Uuc3Vic2NyaWJlKHZhbHVlID0+IHRoaXMuc2VsZWN0ZWQgPSB0aGlzLnZhbHVlID09PSB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICAvKiogR2V0cyB0aGUgbGFiZWwgdG8gYmUgdXNlZCB3aGVuIGRldGVybWluaW5nIHdoZXRoZXIgdGhlIG9wdGlvbiBzaG91bGQgYmUgZm9jdXNlZC4gKi9cclxuICBnZXRMYWJlbCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuX3RleHQgPyAodGhpcy5fdGV4dC5uYXRpdmVFbGVtZW50LnRleHRDb250ZW50IHx8ICcnKS50cmltKCkgOiAnJztcclxuICB9XHJcblxyXG4gIC8qKiBHZXRzIHRoZSBob3N0IERPTSBlbGVtZW50LiAqL1xyXG4gIF9nZXRIb3N0RWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgLyoqIFdoZXRoZXIgcmlwcGxlcyBmb3IgdGhlIG9wdGlvbiBhcmUgZGlzYWJsZWQuICovXHJcbiAgX2lzUmlwcGxlRGlzYWJsZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5kaXNhYmxlZCB8fCB0aGlzLmRpc2FibGVSaXBwbGU7XHJcbiAgfVxyXG5cclxuICAvKiogSGFuZGxlIGNsaWNrIG9uIHRoZSBvcHRpb24uICovXHJcbiAgQEhvc3RMaXN0ZW5lcignY2xpY2snKVxyXG4gIF9vbkNsaWNrKCkge1xyXG4gICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XHJcbiAgICAgIHRoaXMudGltZVVuaXRTZWxlY3QubW92ZSh0aGlzLnZhbHVlIC0gdGhpcy50aW1lVW5pdFNlbGVjdC52YWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG4iXX0=